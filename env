#!/bin/bash

OCLOGFILE=""; PARMS="" ; CON=""; ARGS=""

if test -e f:/svn ; then
P=/cygdrive/f/svn
else
P=/home/dmh/git
fi

#T="in1.nc"
#B="$P/oc2.0/tests/baselines/$T"
#F="http://coastwatch.pfeg.noaa.gov/erddap/tabledap/erdCinpKfmT"
#CON='temperature&longitude>=-120.&longitude<=-118.4&latitude>=33&latitude<=34&time>=2007-01-01&time<=2007-02-01'
F="file://$P/oc2.0/tests/testdata/Drifters"

ARGS="-L -T -g -p datadds"
#ARGS="-T -g -A -p dds"
ARGS="-DD -T -g -p dds -p datadds"
#ARGS="-D2 -T -p datadds"
if test "x$CON" != x ; then
ARGS="-C '$CON' $ARGS"
fi

# Pick in order
PROG=
for f in ./.libs/lt-ocprint ./.libs/ocprint ./ocprint ; do
 if test -f $f ; then
  PROG="$f"
  break;
 fi
done
if test "x$PROG" = x ; then
 echo "cannot locate ocprint; defaulting"
 PROG="./ocprint"
fi

U="$PARMS$F"
alias q0="$PROG $ARGS '$U'"
alias qq="gdb --args $PROG $ARGS '$U'"
alias qv="valgrind --leak-check=full $PROG -g -p datadds $CON '$U'"
alias qt="rm -f ./junk; $PROG $ARGS '$U' | tee junk"
alias qh="$PROG -g -p dds '$U'"
alias d0="$PROG -p dds -DX1 -DN '$U'"
alias dd="gdb --args $PROG -p datadds -DX1 -DN '$U'"
alias compare="diff -wBb ${B}.dods ./junk"

if test 0 = 1; then
F="http://localhost:8080/thredds/dodsC/test/badname.nc"
F="http://localhost:8080/thredds/dodsC/test/badname.nc.dds"
F="http://test.opendap.org:8080/dods/dts/test.03"
F="http://jcaron:boulder@www.giss.nasa.gov/staff/rschmunk/test/file1.nc"
F="http://jcaron:boulder@www.giss.nasa.gov/staff/rschmunk/test/file2.nc"
F="http://tiggeUser:tigge@motherlode.ucar.edu:9080/thredds/dodsC/restrict/testdata/testData.nc"
F="http://oceanwatch.pfeg.noaa.gov/opendap/GLOBEC/GLOBEC_MOC1"
F="http://ceda.ac.uk/dap/neodc/casix/seawifs_plankton/data/monthly/PSC_monthly_1998.nc"
CON="-C 'phytoplankton_size_class[0:3][0:3][0:3]'"
F="file:///home/dmh/nc/oc2.0/testdata/b31"
F="http://testbedapps.sura.org/threddsdev/dodsC/estuarine_hypoxia/cbofs2/agg-masked.nc"
CON="-C s_rho,s_w,ocean_time,tracer,boundary,xi_rho,eta_rho,xi_u,eta_u,xi_v,eta_v,xi_psi,eta_psi,ntimes,ndtfast,dt,dtfast,dstart,nHIS,nRST,ntsAVG,nAVG,nSTA,Falpha,Fbeta,Fgamma,Akt_bak,Akv_bak,Akk_bak,Akp_bak,rdrg,rdrg2,Zob,Zos,gls_p,gls_m,gls_n,gls_cmu0,gls_c1,gls_c2"
F="http://motherlode.ucar.edu:8080/thredds/dodsC/station/metar/Surface_METAR_20120101_0000.nc"
CON="weather[0:10]"
F="http://aurapar2u.ecs.nasa.gov/opendap/Aura_OMI_Level2/OMHCHO.003/2008/001/OMI-Aura_L2-OMHCHO_2008m0101t0028-o18418_v003-2008m0704t132227.he5.dds"
#F="file://$P/oc2.0/tests/testdata/$T"
#F="http://motherlode.ucar.edu:8081/dts/$T"
#F="http://hycom.coaps.fsu.edu/thredds/dodsC/atl_ops"
#F="file://$P/oc2.0/tests/testdata/Drifters"
#F="http://testbedapps-dev.sura.org/thredds/dodsC/auto/in.usf.fvcom.ike.ultralite.vardrag.nowave.2d"
#F="http://motherlode.ucar.edu:8081/thredds/dodsC/testdods/K1VHR_05JUL2012_0700_L2B_OLR.h5.das"
F="http://motherlode.ucar.edu:8081/thredds/dodsC/testdods/nametest3.nc"
F="http://ingrid.ldeo.columbia.edu/SOURCES/.USTOPO/dods"
fi


